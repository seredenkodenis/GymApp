<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta http-equiv="X-UA-Compatible" content="ie=edge" />
      <title>GYM</title>
      <script type="text/javascript">
         tinymce.init({
            selector: '#mytextarea',
            plugins: "image imagetools media",
            video_template_callback: function(data) {
               return '<video width="' + data.width + '" height="' + data.height + '"' + (data.poster ? ' poster="' + data.poster + '"' : '') + ' controls="controls">\n' + '<source src="' + data.source1 + '"' + (data.source1mime ? ' type="' + data.source1mime + '"' : '') + ' />\n' + (data.source2 ? '<source src="' + data.source2 + '"' + (data.source2mime ? ' type="' + data.source2mime + '"' : '') + ' />\n' : '') + '</video>';
            }
         });


         /*tinymce.init({
             selector: "textarea",  // change this value according to your HTML
             plugins: "media",
             menubar: "insert",
             toolbar: "media",
             video_template_callback: function(data) {
                 return '<video width="' + data.width + '" height="' + data.height + '"' + (data.poster ? ' poster="' + data.poster + '"' : '') + ' controls="controls">\n' + '<source src="' + data.source1 + '"' + (data.source1mime ? ' type="' + data.source1mime + '"' : '') + ' />\n' + (data.source2 ? '<source src="' + data.source2 + '"' + (data.source2mime ? ' type="' + data.source2mime + '"' : '') + ' />\n' : '') + '</video>';
             }
         });*/
      </script>
      <link
         rel="stylesheet"
         href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css"
         integrity="sha256-L/W5Wfqfa0sdBNIKN9cG6QA5F2qx4qICmU2VgLruv9Y="
         crossorigin="anonymous"
         />
      <link rel="stylesheet" th:href="@{../css/admin.css}"/>
   </head>
   <body>

   <div th:replace="fragments/header"></div>

      <div class="container-fluid" style="margin-top: 93px;">
         <!-- Button trigger modal -->
         <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal" style="margin-bottom: 30px;">
         Уведомить пользователя
         </button>
         <!-- Modal -->
         <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
               <div class="modal-content">
                  <div class="modal-header">
                     <h5 class="modal-title" id="exampleModalLabel">Уведомить</h5>
                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                     <span aria-hidden="true">&times;</span>
                     </button>
                  </div>
                  <div class="modal-body">
                     <form th:action="@{/admin/notifyUser/}" th:method="post">
                        <div class="form-group">
                           <label for="inputAddress">Номер(id)</label>
                           <input type="text" class="form-control" name="id" id="inputAddress" placeholder="998234" required>
                        </div>
                        <div class="form-group">
                           <label for="emailText">Свой вариант</label>
                           <textarea class="form-control" name="text" id="emailText" rows="3"></textarea>
                        </div>
                        <select class="custom-select my-1 mr-sm-2" name="msgType" id="inlineFormCustomSelectPref">
                           <option selected value="def">Варианты сообщений</option>
                           <option value="connect">Связатся с админом</option>
                           <option value="birth">Поздравить с др</option>
                           <option value="train1">Предложить тренеровку №1</option>
                           <option value="train2">Предложить тренеровку №2</option>
                        </select>
                        <button type="submit" class="btn btn-primary">Уведомить</button>
                     </form>
                  </div>
                  <div class="modal-footer">
                     <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
                  </div>
               </div>
            </div>
         </div>
         <!-- Button trigger modal -->
         <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal1" style="margin-left: 30px;margin-bottom: 30px;">
            Найти пользователя
         </button>
         <div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
               <div class="modal-content">
                  <div class="modal-header">
                     <h5 class="modal-title" id="exampleModalLabel">Найти</h5>
                     <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                     </button>
                  </div>
                  <div class="modal-body">
                     <form th:method="post" th:action="@{/admin/searchUser}">
                        <div class="form-group">
                           <label for="inputAddress">Номер(id)</label>
                           <input type="text" class="form-control" name="id" id="inputAddress" placeholder="998234" pattern="[0-9]+">
                        </div>
                        <div class="form-group">
                           <label for="surname">Фамилия</label>
                           <input type="text" class="form-control" name="surname" id="surname" placeholder="Пупкин" pattern="[a-zA-Zа-яА-Я]+">
                        </div>
                        <div class="form-group">
                           <label for="phone">Телефон</label>
                           <input type="text" class="form-control" name="phone" id="phone" placeholder="0508823512">
                        </div>
                        <div class="form-group">
                           <label for="phone">E-mail</label>
                           <input type="text" class="form-control" name="email" id="phone" placeholder="mail@gmail.com" pattern="[a-zA-z0-9]+@[a-zA-Z]+[.][a-zA-z]+">
                        </div>
                        <button type="submit" class="btn btn-primary">Найти</button>
                     </form>
                  </div>
                  <div class="modal-footer">
                     <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
                  </div>
               </div>
            </div>
         </div>
         <table class="table table-striped table-bordered table-dark">
            <thead>
            <tr>
               <th scope="col">#</th>
               <th scope="col">Имя</th>
               <th scope="col">Фамилия</th>
               <th scope="col">Номер телефона</th>
               <th scope="col">Адресс</th>
               <th scope="col">Абонимент</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
               <th scope="row" th:text="${user.id}"></th>
               <td th:text="${user.name}"></td>
               <td th:text="${user.surname}"></td>
               <td th:text="${user.phone}"></td>
               <td th:text="${user.address}"></td>
               <td th:text="${user.aboniment}"></td>
            </tr>
            </tbody>
         </table>
      </div>
   <div th:replace="fragments/footer"></div>
      <script
         src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
         integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
         crossorigin="anonymous"
         ></script>
      <script
         src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.bundle.min.js"
         integrity="sha256-OUFW7hFO0/r5aEGTQOz9F/aXQOt+TwqI1Z4fbVvww04="
         crossorigin="anonymous"
         ></script>
   <script th:src="@{../js/script.js}"></script>
   </body>
</html>